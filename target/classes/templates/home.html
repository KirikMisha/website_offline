<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="/style/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/style/index.css">
    <link rel="stylesheet" type="text/css" href="/style/home.css">
</head>
<body>
<header th:replace="components/header :: header"></header>
<div class="container-fluid background-image-container">
    <div class="row">
        <div class="col-md-4 highlighting_in_white">
            <h2 class="text-center">Новости</h2>
            <div class="news-container" style="max-height: 400px; overflow-y: auto; position: relative; z-index: 2;">
                <!-- Вывод всех новостей -->
                <th:block th:each="news : ${allNews}">
                    <h2 class="custom-h2"><a th:text="${news.title}" th:href="@{'/news/details/' + ${news.id}}"></a></h2>
                    <p th:text="${#strings.length(news.text) > 30 ? #strings.substring(news.text, 0, 30) + '...' : news.text}"></p>
                    <!-- Вывод изображения новости, если оно есть -->
                    <img th:if="${news.imageUrl != null}" th:src="@{'/download/' + ${news.id}}" class="img-fluid custom-img-home" alt="News Image" style="max-width: 100%; max-height: 200px;"/>
                </th:block>
            </div>
        </div>
        <div class="col-md-4" th:if="${additionalInfoList.size() > 0}">
            <div id="currentDayOfWeek"></div>
            <p class="text-center" style="font-size: 18px; font-weight: bold; color: #000000; margin-top: 20px;"> Цитата дня</p>
            <p class="text-center" style="font-size: 18px; font-weight: bold; color: #000000; margin-top: 20px;">
                <span th:text="${quoteList[randomIndex].quoteText}"></span> <br>
                <span style="font-size: 14px; font-style: italic; color: #000000;">
            <span th:text="${quoteList[randomIndex].authorName}"></span>
        </span>
            </p>
            <p><span class="color-main"></span></p>
            <div class="color-main link-highlight">
                <ul>
                    <li th:each="additionalInfo : ${additionalInfoList}" class="white-text">
                        <a th:href="@{'/details/info/' + ${additionalInfoList.indexOf(additionalInfo) + 1} + '?id=' + ${todayDay.id}}"
                           style="text-decoration: none;">
                            <span th:text="${additionalInfo}"></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-md-4" th:if="${additionalInfoList.size() == 0}">
            <p>Нет доступной информации о дне.</p>
        </div>
        <div class="col-md-4 highlighting_in_white">
            <h2 class="text-center">Объявления</h2>
            <div class="announcement-container" style="max-height: 400px; overflow-y: auto; position: relative; z-index: 2;">
                <!-- Вывод всех объявлений -->
                <th:block th:each="announcement : ${allAnnouncements}">
                    <h2 class="custom-h2"><a th:text="${announcement.title}" th:href="@{'/announcements/details/' + ${announcement.id}}"></a></h2>
                    <p th:text="${#strings.length(announcement.text) > 30 ? announcement.text.substring(0, 30) : announcement.text}"></p>
                    <!-- Вывод изображения объявления, если оно есть -->
                    <img th:if="${announcement.imageUrl != null}" th:src="@{'/download/announcement/' + ${announcement.id}}" class="img-fluid custom-img-home" alt="Announcement Image"/>
                </th:block>
            </div>
        </div>
    </div>
</div>

<div class="style-head"></div>
<div class="under-style"></div>
<img th:class="img-fluid" alt="низ" th:src="@{/icon/under_head.png}">
<script src="/js/bootstrap.js"></script>
<script src="/js/calendar_day.js"></script>
</body>
</html>
